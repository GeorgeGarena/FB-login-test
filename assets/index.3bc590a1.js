import{j as l,r as d,R as f,a as u,b as p,c as h,H as m}from"./vendor.70fa1511.js";const g=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const a of e.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=r(t);fetch(t.href,e)}};g();function i(c,n=window.location.href){const r=n,o=c.replace(/[[]]/g,"\\$&"),e=new RegExp(`[?&]${o}(=([^&#]*)|&|#|$)`).exec(r);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}const s=l.exports.jsx,x=l.exports.jsxs;function k(){return d.exports.useEffect(()=>{const c=i("#access_token"),n=i("state");if(c){const r=`https://graph.facebook.com/v12.0/me?fields=id%2Cname&access_token=${c}`;fetch(r).then(o=>o.text()).then(o=>JSON.parse(o)).then(o=>{console.log(o),console.log(n)})}else setTimeout(()=>{const r="https://georgegarena.github.io/FB-login-test/#/Check",o=1092249954903916;window.location=encodeURI(`https://www.facebook.com/v12.0/dialog/oauth?client_id=${o}&redirect_uri=${r}&state=${n}`)},1e4)},[]),s("div",{children:s("div",{children:"Home"})})}function v(){async function c(){const n=i("#access_token"),r=i("state");if(n){const o=`https://graph.facebook.com/v12.0/me?fields=id%2Cname&access_token=${n}`,t=await fetch(o).then(e=>e.text()).then(e=>JSON.parse(e));console.log("success login",t,r)}else console.log("login fail",r)}return d.exports.useEffect(()=>{c()},[]),s("div",{children:"Check"})}function y(){return s("div",{className:"App",children:x(f,{children:[s(u,{path:"/",element:s(k,{})}),s(u,{path:"/Check",element:s(v,{})})]})})}p.render(s(h.StrictMode,{children:s(m,{children:s(y,{})})}),document.getElementById("root"));
